{{ define "title" }}
containerd docs &ndash; {{ cond (eq .Title "") (.File.BaseFileName | humanize | title) .Title }}
{{ end }}

{{ define "main" }}
{{- $section := .Section }}
{{- $pages   := where .Site.Pages "Section" $section }}

{{ partial "hero.html" . }}
{{ $Content := .Content }}

<article class="is-{{ $section }}-article">
  <div class="container">
    <div class="columns">
      {{ partial "docs/sidebar.html" . }}

      <div class="column is-three-quarters is-full-mobile">
        <div class="content">
          <div class="is-hidden-desktop">
            {{ partial "docs/dropdown.html" . }}
          </div>
    
          <section class="is-inner-content">
            <!-- remove instances of .md to fix links to other docs -->
            {{ replaceRE `\.md` "" .Content | safeHTML }}
          </section>
        </div>
      </div>

      <div class="column is-hidden-touch">
        {{- if .TableOfContents }}
        <aside class="is-toc-container">
          <p class="is-size-4 is-toc-title">
            Table of contents
          </p>

          <div id="toc">
            {{ .TableOfContents }}
          </div>
        </aside>
        {{- end }}
      </div>
    </div>
  </div>
</article>

{{ partial "docs/arrow-up.html" . }}
{{ end }}
